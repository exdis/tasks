/* exdisme - v0.0.1 - 2014-05-03 */
define(["angular","services","jquery"],function(a,b,c){"use strict";var d=a.module("app.controllers",["app.services"]);d.controller("ctrl",["$scope","Tasks","$http","$route",function(a,b,d,e){"undefined"!=typeof a.currentUser&&(a.tasks=b.get(a.currentUser)),a.submit=function(){a.form.userid=a.currentUser,d.post("api/tasks",JSON.stringify(a.form)).success(function(a){"OK"===a.status&&(c("#new").modal("hide"),c(".navbar-collapse").hasClass("in")&&c(".navbar-toggle").click(),e.reload())})},a.taskDelete=function(a){d.delete("api/tasks/"+a),c(".navbar-collapse").hasClass("in")&&c(".navbar-toggle").click(),e.reload()}}])});